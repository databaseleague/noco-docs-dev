__NUXT_JSONP__("/engineering/unit-test", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu){return {data:[{document:{slug:"unit-test",description:"How to write unit tests",title:ao,position:3300,category:"Engineering",menuTitle:ao,toc:[{id:ap,depth:F,text:aq},{id:ar,depth:F,text:as},{id:at,depth:T,text:au},{id:av,depth:T,text:aw},{id:ax,depth:T,text:ay},{id:az,depth:T,text:aA},{id:aB,depth:F,text:aC},{id:aD,depth:F,text:aE},{id:aF,depth:F,text:aG},{id:aH,depth:F,text:aI},{id:aJ,depth:F,text:aK}],body:{type:aL,children:[{type:b,tag:G,props:{id:ap},children:[{type:b,tag:s,props:{href:"#key-points",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aq}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:aM},{type:b,tag:s,props:{href:"https:\u002F\u002Fmochajs.org\u002F",rel:[ac,ad,ae],target:af},children:[{type:a,value:"Mocha"}]},{type:a,value:" as our test runner and "},{type:b,tag:s,props:{href:"https:\u002F\u002Fwww.chaijs.com\u002F",rel:[ac,ad,ae],target:af},children:[{type:a,value:aN}]},{type:a,value:" as our assertion library."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:aM},{type:b,tag:s,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fsupertest",rel:[ac,ad,ae],target:af},children:[{type:a,value:"Supertest"}]},{type:a,value:" to test our API endpoints."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"All individual unit tests are independent of each other. We don't use any shared state between tests."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Test environment also includes "},{type:b,tag:h,props:{},children:[{type:a,value:U}]},{type:a,value:" database and any change on "},{type:b,tag:h,props:{},children:[{type:a,value:U}]},{type:a,value:" by a test is reverted before running other tests."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"While running unit tests, it tries to connect to mysql server running on "},{type:b,tag:h,props:{},children:[{type:a,value:"localhost:3306"}]},{type:a,value:" with username "},{type:b,tag:h,props:{},children:[{type:a,value:aL}]},{type:a,value:" and password "},{type:b,tag:h,props:{},children:[{type:a,value:"password"}]},{type:a,value:"(which can be configured) and if not found, it will use "},{type:b,tag:h,props:{},children:[{type:a,value:"sqlite"}]},{type:a,value:" as a fallback, hence no requirement of any sql server to run tests."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:G,props:{id:ar},children:[{type:b,tag:s,props:{href:"#walk-through-of-writing-a-unit-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:as}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"We will create an "},{type:b,tag:h,props:{},children:[{type:a,value:ag}]},{type:a,value:" test suite as an example."}]},{type:a,value:f},{type:b,tag:V,props:{id:at},children:[{type:b,tag:s,props:{href:"#describing-test-suite",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:au}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"Create "},{type:b,tag:h,props:{},children:[{type:a,value:ag}]},{type:a,value:" test suite by using "},{type:b,tag:h,props:{},children:[{type:a,value:W}]},{type:a,value:" function of mocha."}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:V,props:{id:av},children:[{type:b,tag:s,props:{href:"#configure-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aw}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"We will configure "},{type:b,tag:h,props:{},children:[{type:a,value:ah}]},{type:a,value:" which is called before each test is executed. We will use "},{type:b,tag:h,props:{},children:[{type:a,value:O}]},{type:a,value:" function from "},{type:b,tag:h,props:{},children:[{type:a,value:"nocodb\u002Fpackages\u002Ftests\u002Funit\u002Finit\u002Findex.ts"}]},{type:a,value:", which is a helper function which configures the test environment(i.e resetting state, etc.)."}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:O}]},{type:a,value:" does the following things -"}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"It initializes a "},{type:b,tag:h,props:{},children:[{type:a,value:"Noco"}]},{type:a,value:" instance(reused in all tests)."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Restores "},{type:b,tag:h,props:{},children:[{type:a,value:"meta"}]},{type:a,value:aS},{type:b,tag:h,props:{},children:[{type:a,value:U}]},{type:a,value:" database to its initial state."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Creates the root user."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Returns "},{type:b,tag:h,props:{},children:[{type:a,value:H}]},{type:a,value:" which has "},{type:b,tag:h,props:{},children:[{type:a,value:"auth token"}]},{type:a,value:" for the created user, node server instance("},{type:b,tag:h,props:{},children:[{type:a,value:ai}]},{type:a,value:"), and "},{type:b,tag:h,props:{},children:[{type:a,value:"dbConfig"}]},{type:a,value:m}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:aT},{type:b,tag:h,props:{},children:[{type:a,value:X}]},{type:a,value:aS},{type:b,tag:h,props:{},children:[{type:a,value:X}]},{type:a,value:" factories to create a project and a table."}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n  context "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n\n  project "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n  table "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:V,props:{id:ax},children:[{type:b,tag:s,props:{href:"#test-case",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:ay}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:aT},{type:b,tag:h,props:{},children:[{type:a,value:Q}]},{type:a,value:" function to create a test case. We will use "},{type:b,tag:h,props:{},children:[{type:a,value:"supertest"}]},{type:a,value:" to make a request to the server. We use "},{type:b,tag:h,props:{},children:[{type:a,value:R}]},{type:a,value:j},{type:b,tag:h,props:{},children:[{type:a,value:aN}]},{type:a,value:") to assert the response."}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aV}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:b,tag:c,props:{className:[d,_,p]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,a$]},children:[{type:b,tag:c,props:{className:[d,aa,e]},children:[{type:a,value:ba}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,aa,e]},children:[{type:a,value:q}]}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bd}]},{type:b,tag:c,props:{className:[d,_,p]},children:[{type:a,value:$}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:d},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,bh]},children:[{type:a,value:bi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:V,props:{id:az},children:[{type:b,tag:s,props:{href:"#integrating-the-new-test-suite",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aA}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"We create a new file "},{type:b,tag:h,props:{},children:[{type:a,value:"table.test.ts"}]},{type:a,value:an},{type:b,tag:h,props:{},children:[{type:a,value:"packages\u002Fnocodb\u002Ftests\u002Funit\u002Frest\u002Ftests"}]},{type:a,value:bs}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'mocha'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:" request "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'supertest'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:" init "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'..\u002F..\u002Finit'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" createTable"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:" getAllTables "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'..\u002F..\u002Ffactory\u002Ftable'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" createProject "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'..\u002F..\u002Ffactory\u002Fproject'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" defaultColumns "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'..\u002F..\u002Ffactory\u002Fcolumn'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:" Model "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'..\u002F..\u002F..\u002F..\u002Fsrc\u002Flib\u002Fmodels\u002FModel'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" expect "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'chai'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"tableTest"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:a,value:" table"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n    context "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n\n    project "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    table "},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aV}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:b,tag:c,props:{className:[d,_,p]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,a$]},children:[{type:b,tag:c,props:{className:[d,aa,e]},children:[{type:a,value:ba}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,aa,e]},children:[{type:a,value:q}]}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bd}]},{type:b,tag:c,props:{className:[d,_,p]},children:[{type:a,value:$}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:d},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,bh]},children:[{type:a,value:bi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n\n    "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"We can then import the "},{type:b,tag:h,props:{},children:[{type:a,value:ag}]},{type:a,value:" test suite to "},{type:b,tag:h,props:{},children:[{type:a,value:bt}]},{type:a,value:" test suite in "},{type:b,tag:h,props:{},children:[{type:a,value:"packages\u002Fnocodb\u002Ftests\u002Funit\u002Frest\u002Findex.test.ts"}]},{type:a,value:" file("},{type:b,tag:h,props:{},children:[{type:a,value:bt}]},{type:a,value:" test suite is imported in the root test suite file which is "},{type:b,tag:h,props:{},children:[{type:a,value:"packages\u002Fnocodb\u002Ftests\u002Funit\u002Findex.test.ts"}]},{type:a,value:")."}]},{type:a,value:f},{type:b,tag:G,props:{id:aB},children:[{type:b,tag:s,props:{href:"#running-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aC}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"To run tests, run "},{type:b,tag:h,props:{},children:[{type:a,value:"npm run test:unit"}]},{type:a,value:an},{type:b,tag:h,props:{},children:[{type:a,value:"packages\u002Fnocodb"}]},{type:a,value:bs}]},{type:a,value:f},{type:b,tag:"blockquote",props:{},children:[{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"NOTE: We can also run individual test by using "},{type:b,tag:h,props:{},children:[{type:a,value:".only"}]},{type:a,value:an},{type:b,tag:h,props:{},children:[{type:a,value:W}]},{type:a,value:" or "},{type:b,tag:h,props:{},children:[{type:a,value:Q}]},{type:a,value:" function and the running the test command."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"only"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"=\u003E"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:G,props:{id:aD},children:[{type:b,tag:s,props:{href:"#folder-structure",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aE}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"The root folder for unit tests is "},{type:b,tag:h,props:{},children:[{type:a,value:"packages\u002Ftests\u002Funit"}]}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"rest"}]},{type:a,value:" folder contains all the test suites for rest apis."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"model"}]},{type:a,value:" folder contains all the test suites for models."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"factory"}]},{type:a,value:" folder contains all the helper functions to create test data."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:O}]},{type:a,value:" folder contains helper functions to configure test environment."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"index.test.ts"}]},{type:a,value:" is the root test suite file which imports all the test suites."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"TestDbMngr.ts"}]},{type:a,value:" is a helper class to manage test databases (i.e. creating, dropping, etc.)."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:G,props:{id:aF},children:[{type:b,tag:s,props:{href:"#patterns-to-follow",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aG}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"Factories"}]}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Use factories for create\u002Fupdate\u002Fdelete data. No data should be directly create\u002Fupdated\u002Fdeleted in the test."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"While writing a factory make sure that it can be used with as less parameters as possible and use default values for other parameters."}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Use named parameters for factories."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,N]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"  "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"createUser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" email"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:" password"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"Use one file per factory."}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:G,props:{id:aH},children:[{type:b,tag:s,props:{href:"#using-sakila-db",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aI}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:a,value:"To use sakila db use "},{type:b,tag:h,props:{},children:[{type:a,value:"createSakilaProject"}]},{type:a,value:" from "},{type:b,tag:h,props:{},children:[{type:a,value:"factory\u002Fproject"}]},{type:a,value:" to create a project. This project will be seeded with "},{type:b,tag:h,props:{},children:[{type:a,value:U}]},{type:a,value:" tables."}]},{type:a,value:f},{type:b,tag:G,props:{id:aJ},children:[{type:b,tag:s,props:{href:"#configurations",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aK}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:a,value:"For Mysql db configuration, use the following environment variables to configure.\n"},{type:b,tag:A,props:{},children:[{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"DB_USER"}]},{type:a,value:" : mysql username"}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"DB_PASSWORD"}]},{type:a,value:" : mysql password"}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"DB_HOST"}]},{type:a,value:" : mysql host"}]},{type:a,value:f},{type:b,tag:o,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"DB_PORT"}]},{type:a,value:" : mysql port"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]}]},dir:"\u002Fen\u002Fengineering",path:"\u002Fen\u002Fengineering\u002Funit-test",extension:".md",createdAt:bu,updatedAt:bu,to:"\u002Fengineering\u002Funit-test"},prev:{slug:"builds-and-releases",title:"Build on Pull Requests",to:"\u002Fengineering\u002Fbuilds-and-releases"},next:{slug:"translation",title:"i18n translation",to:"\u002Fengineering\u002Ftranslation"}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","\n"," ","code","keyword","(","function",")",".",";","li","string","}","{","a","p","true",-1,"icon","icon-link",",","operator","ul","\n  ","=","await","import",2,"h2","context","from","div","nuxt-content-highlight","pre","language-typescript","line-numbers","init","async","it","expect","\n    ",3,"sakila","h3","describe","createProject","let"," context","template-punctuation","`","interpolation-punctuation","\n      ","nofollow","noopener","noreferrer","_blank","Table","beforeEach","app","\n\n"," project","'Get table list'","\n\n  "," in ","Unit Test","key-points","Key points","walk-through-of-writing-a-unit-test","Walk through of writing a unit test","describing-test-suite","Describing test suite","configure-test","Configure test","test-case","Test case","integrating-the-new-test-suite","Integrating the new test suite","running-test","Running test","folder-structure","Folder structure","patterns-to-follow","Patterns to follow","using-sakila-db","Using sakila db","configurations","Configurations","root","We use ","chai","export","default","'Table'"," tableTests"," and ","We will use ","createTable","const"," response ","request","get","template-string","\u002Fapi\u002Fv1\u002Fdb\u002Fmeta\u002Fprojects\u002F","interpolation","${","project","id","\u002Ftables","set","'xc-auth'","send","number","200","response","body","list","to","be","an","'array'","not","empty"," directory.","Rest","2022-09-20T10:48:34.665Z")));